# Talk to Transformer Project

## Objective
As the field of deep learning becomes more popular, there are many advancements in the subdivision of natural language processing (NLP). With the aid of pretrained language models, such as ELMo and BERT, tasks that require relationship between words have become much easier. Transformers, in particular, enable models to understand semantic relationships between words which make them perfect for text generation. 

The goal of this project is to develop a program that allows the user to communicate with a transformer. The end product is for the user to be able to talk into a microphone and the app responds with a speech generated by a transformer.

## Architecture

The application is built using Flask and consists of three main components:

1. **Speech-to-Text (STT)**: Converts user's voice input into text using Google's speech recognition API
2. **Transformer Model**: Uses GPT-2 to generate text responses based on the input
3. **Text-to-Speech (TTS)**: Converts the generated text back to speech using Google's Text-to-Speech API

### Component Breakdown

- **STT.py**: Handles speech recognition using the SpeechRecognition library
- **transformer.py**: Implements the GPT-2 transformer model for text generation
- **TTS.py**: Converts text to speech using gTTS (Google Text-to-Speech)
- **main.py**: Flask application that ties all components together

## User Flow

1. User uploads a voice recording in WAV format
2. User specifies desired response length (between 1-300 words)
3. The app converts the audio to text using Google's speech recognition
4. The text is processed by the GPT-2 transformer model
5. The model's response is converted back to speech
6. The audio response is played back to the user

## Requirements

- Python 3.x
- Flask
- SpeechRecognition 3.8.1
- transformers 4.5.1
- torch 1.8.1
- gTTS 2.2.2
- Google API libraries

## Installation and Deployment

There are two ways to deploy the Flask app: on a local machine or on Google Cloud Platform.

### Local Deployment
```bash
# Clone the repository
git clone https://github.com/FourthTee/Talk-To-Transformer.git

# Navigate to the project directory
cd Talk-To-Transformer

# Create a virtual environment (optional but recommended)
conda create -n talk-to-transformer python=3
conda activate talk-to-transformer
# OR using venv
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Run the application
python main.py
```

The application will be available at http://localhost:5000

### Cloud Deployment (Google Cloud Platform)
Before deploying the app on GCP, you will need to set up your gcloud project and enable billing for use of Cloud APIs.

```bash
# Clone the repository
git clone https://github.com/FourthTee/Talk-To-Transformer.git

# Navigate to the project directory
cd Talk-To-Transformer

# Deploy to Google App Engine
gcloud app deploy
```

## Technical Details

- The application uses the Hugging Face Transformers library to implement the GPT-2 model
- Speech recognition is handled by Google's speech recognition API
- Text-to-speech conversion is done using Google's Text-to-Speech service (gTTS)
- The web interface is built with Flask

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is open source and available under the [MIT License](LICENSE).
